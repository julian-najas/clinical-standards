# Workflow de auditoría clínica con gates P0/P1/P2 y artifacts
name: Clinical Audit
on:
  pull_request:
    branches: [main]
  push:
    branches: [main]
jobs:
  audit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Instalar dependencias de auditoría
        run: |
          pip install -r requirements.txt || true
      - name: Ejecutar auditoría P0
        run: |
          echo "Audit P0"
        continue-on-error: false
      - name: Ejecutar auditoría P1
        run: |
          echo "Audit P1"
        continue-on-error: true
      - name: Ejecutar auditoría P2
        run: |
          echo "Audit P2"
        continue-on-error: true
      - name: Subir artifacts de auditoría
        uses: actions/upload-artifact@v4
        with:
          name: clinical-audit-artifacts
          path: artifacts/
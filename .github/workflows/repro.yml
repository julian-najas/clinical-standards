
# Reusable workflow: Reproducibility Check (v1.0.0)
name: Reproducibility Check
on:
  workflow_call:
    inputs:
      compose_file:
        required: false
        type: string
        default: 'docker-compose.yml'
      health_url:
        required: false
        type: string
        default: 'http://localhost:8080/health'
      timeout_seconds:
        required: false
        type: number
        default: 60
      compose_args:
        required: false
        type: string
        default: ''
jobs:
  repro:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Levantar stack docker compose
        uses: ./actions/compose-healthcheck/
        with:
          compose_file: ${{ inputs.compose_file }}
          health_url: ${{ inputs.health_url }}
          timeout_seconds: ${{ inputs.timeout_seconds }}
          compose_args: ${{ inputs.compose_args }}